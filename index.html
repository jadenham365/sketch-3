<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<title>Untitled</title>
<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
	</head>
	<body>
    
<script>
const noteIndex = ['A', 'A#', 'B', 'C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#'];

function chooseKey() {
  const startingNote = Math.trunc(Math.random() * 11.9999999999);
  let keyPattern = [];
  let scale = [];
  let patternCount = {1: 0, 2: 0};
  for (let i = 0; i<7; i++) {
    if (patternCount[1] === 2) {
      keyPattern.push(2);
      patternCount[2]++;
    } else if (patternCount[2] === 5){
        keyPattern.push(1);
        patternCount[1]++;
    } else {
      let number = Math.round((Math.random() + 1));
      keyPattern.push(number);
      patternCount[number]++;
    }
  scale.push(noteIndex[startingNote]);
  for (i = 0; i<6; i++) {
    scale.push(noteIndex[keyPattern[i]]);
  }
  console.log(scale);
  }
}
  
  nn.on('load', chooseKey());
    
</script>
		
	</body>
</html>
